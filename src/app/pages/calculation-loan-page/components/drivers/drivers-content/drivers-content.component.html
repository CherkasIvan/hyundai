
  <div class="container">
    <div class="row">
      <div class="col-12 tes-wrapper-title">Водители</div>
      <div class="col-12">
        <div class="tes-wrapper-content">
          <div class="driver-info-details">
            <form *ngIf='formDriversData'
                  class="driver-info-details-form"
                  [formGroup]="formDriversData"
            >
              <div class="driver-info-details-form-container">
                <div class="row">
                  <div class="col-6">
                    <tes-input-slide-toggle
                      [label]="'Водители без ограничений'"
                      formControlName="invalid_drivers"
                    ></tes-input-slide-toggle>
                  </div>
                  <div class="col-6">
                    <tes-input-checkbox
                      [label]="'Все водители участвуют в договорах'"
                      formControlName="all_drivers_in_contracts"
                    >
                    </tes-input-checkbox>
                  </div>
                </div>

                <div formArrayName="drivers">
                  <div *ngFor="let driver of getDrivers().controls; let i = index">
                    <div [formGroupName]="i">
                      <div class="row mt-4 form-group">
                        <div class="col-6 mb-4">
                          <fieldset class="mt-3">
                            <input
                              class="border-bottom w-100"
                              type="text"
                              formControlName="driver_title"
                              readonly
                            />
                          </fieldset>
                        </div>
                        <div class="col-6 mb-4 checkbox-line">
                          <tes-input-checkbox
                            [label]="'ОСАГО'"
                            formControlName="osago"
                          ></tes-input-checkbox>
                          <tes-input-checkbox
                            [label]="'КАСКО'"
                            formControlName="kasko"
                          ></tes-input-checkbox>
                          <tes-input-checkbox
                            [label]="'Кредит'"
                            formControlName="credit"
                          ></tes-input-checkbox>
                        </div>
                        <div class="col-4">
                          <tes-input-basic
                            [label]="'Фамилия'"
                            formControlName="first_name"
                          ></tes-input-basic>
                        </div>
                        <div class="col-4">
                          <tes-input-basic
                            [label]="'Имя'"
                            formControlName="last_name"
                          ></tes-input-basic>
                        </div>
                        <div class="col-4">
                          <tes-input-basic
                            [label]="'Отчество'"
                            formControlName="patronymic"
                          ></tes-input-basic>
                        </div>
                        <div class="col-6">
                          <tes-input-basic
                            [label]="'Введите номер телефона'"
                            formControlName="phone"
                          ></tes-input-basic>
                        </div>
                        <div class="col-6">
                          <tes-input-basic
                            [label]="'Дата рождения'"
                            formControlName="birthdate"
                          ></tes-input-basic>
                        </div>
                        <div class="col-6">
                          <tes-input-basic
                            [label]="'Водительское удостоверение №'"
                            formControlName="license_number"
                          ></tes-input-basic>
                        </div>
                        <div class="col-6">
                          <tes-input-basic
                            [label]="'Кем выдано'"
                            formControlName="license_issued_by"
                          ></tes-input-basic>
                        </div>
                        <div class="col-6">
                          <tes-input-basic
                            [label]="'Дата выдачи'"
                            formControlName="license_issued_at"
                          ></tes-input-basic>
                        </div>
                        <div class="col-6">
                          <tes-input-basic
                            [label]="'Дата начала стажа вождения'"
                            formControlName="driver_experience_start_date"
                          ></tes-input-basic>
                        </div>
                        <div class="col-6"></div>
                        <div class="col-6 mt-2">
                          <tes-input-checkbox
                            formControlName="driver_exp_same_as_license_issued"
                            [label]="'Совпадает с датой выдачи удостоверения'"
                            [small]="true"
                          ></tes-input-checkbox>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <tes-button
            class='mt-3'
            [title]="'Добавить водителя'"
            [color]="'secondary'"
            (click)='addDriver([])'
          ></tes-button>
        </div>
        <div class="tes-wrapper-buttons">
          <tes-button [title]="'Продолжить'" [color]="'primary'" (click)='onSubmit()'></tes-button>
          <tes-button [title]="'Update'" [color]="'primary'" (click)='onUpdateDrivers()'></tes-button>
        </div>
      </div>
    </div>
  </div>

